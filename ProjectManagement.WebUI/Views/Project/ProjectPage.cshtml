@model ProjectManagement.WebUI.Models.ProjectPageViewModel

@{
    ViewBag.Title = "ProjectPage";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<h2>Проект: @Html.DisplayFor(model => model.Name)</h2>

<div class="row">
    <div class="col-sm-10">
        <h3>Описание</h3>

        @Html.DisplayFor(model => model.Description)
    </div>
</div>

<h3>Участинки проекта</h3>

<div>
    <ul class="list-commasepareted">
        @foreach (var user in Model.UsersInvolved)
        {
            <li>
                @Html.ActionLink(user.Name, "UserPage", new {controller = "Account", id = user.Id})
            </li>
        }
    </ul>
</div>

<h3>Задания</h3>

<table class="table">
    <tr>
        <th>Задание</th>
        <th>Ответственный</th>
        <th>Статус</th>
    </tr>
    @foreach (var task in Model.Tasks)
    {
        <tr class="@(task.PriorityCssClass)">
            <td>@Html.ActionLink(task.Name, "ViewTask", "Task", new { id = task.Id }, null)</td>
            <td>
                <ul class="list-commasepareted">
                    @foreach (var user in task.Users)
                    {
                        <li>@Html.ActionLink(user.Name, "UserPage", "Account", new { id = user.Id }, null)</li>
                    }
                </ul>
            </td>
            <td>@(task.Status)</td>
        </tr>
    }
</table>

